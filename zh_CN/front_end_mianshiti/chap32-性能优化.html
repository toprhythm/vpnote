<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>性能优化面试题 | akin前端手记</title>
    <meta name="generator" content="VuePress 1.9.5">
    <script>
          var _hmt = _hmt || [];
          (function() {
          // 引入谷歌,不需要可删除这段
          var hm1 = document.createElement("script");
          hm1.src = "https://www.googletagmanager.com/gtag/js?id=G-CC1NESJ33M";
          var s1 = document.getElementsByTagName("script")[0]; 
          s1.parentNode.insertBefore(hm1, s1);
          })();

          // 谷歌加载,不需要可删除
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());

          gtag('config', 'G-CC1NESJ33M');
      </script>
    <link name="icon" content="/favicon.ico">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <meta name="description" content="akin前端手记-大前端">
    <meta name="author" content="云奏">
    <meta name="keywords" content="大前端，手记">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/assets/css/0.styles.7cce12cd.css" as="style"><link rel="preload" href="/assets/js/app.5233d0ec.js" as="script"><link rel="preload" href="/assets/js/8.c912c9ff.js" as="script"><link rel="preload" href="/assets/js/2.d5a55312.js" as="script"><link rel="preload" href="/assets/js/50.0f0573fe.js" as="script"><link rel="preload" href="/assets/js/3.4eeae697.js" as="script"><link rel="preload" href="/assets/js/4.e9a16dec.js" as="script"><link rel="prefetch" href="/assets/js/10.c420e300.js"><link rel="prefetch" href="/assets/js/100.5be89c89.js"><link rel="prefetch" href="/assets/js/101.25ca4c56.js"><link rel="prefetch" href="/assets/js/102.9a645809.js"><link rel="prefetch" href="/assets/js/103.f35b0c7a.js"><link rel="prefetch" href="/assets/js/104.0779632a.js"><link rel="prefetch" href="/assets/js/105.62e3c161.js"><link rel="prefetch" href="/assets/js/106.c4fcc25a.js"><link rel="prefetch" href="/assets/js/107.b44fd888.js"><link rel="prefetch" href="/assets/js/108.f04fb7e0.js"><link rel="prefetch" href="/assets/js/109.94d6af92.js"><link rel="prefetch" href="/assets/js/11.57d9fe36.js"><link rel="prefetch" href="/assets/js/110.67dec0fc.js"><link rel="prefetch" href="/assets/js/111.edf46689.js"><link rel="prefetch" href="/assets/js/112.6e5c72c6.js"><link rel="prefetch" href="/assets/js/113.5108cf20.js"><link rel="prefetch" href="/assets/js/114.589bd1fe.js"><link rel="prefetch" href="/assets/js/115.cee934bb.js"><link rel="prefetch" href="/assets/js/116.b5f6a19a.js"><link rel="prefetch" href="/assets/js/117.29476fa3.js"><link rel="prefetch" href="/assets/js/118.c4721d7d.js"><link rel="prefetch" href="/assets/js/119.a9ba2cd2.js"><link rel="prefetch" href="/assets/js/12.66c2f01a.js"><link rel="prefetch" href="/assets/js/120.5a7d3afc.js"><link rel="prefetch" href="/assets/js/121.2962e76d.js"><link rel="prefetch" href="/assets/js/122.9daa16ef.js"><link rel="prefetch" href="/assets/js/123.87bca999.js"><link rel="prefetch" href="/assets/js/124.838c2921.js"><link rel="prefetch" href="/assets/js/125.6308b455.js"><link rel="prefetch" href="/assets/js/126.5ade77ce.js"><link rel="prefetch" href="/assets/js/127.cd7161d2.js"><link rel="prefetch" href="/assets/js/128.20916a60.js"><link rel="prefetch" href="/assets/js/129.ea75c498.js"><link rel="prefetch" href="/assets/js/13.38c4e8ae.js"><link rel="prefetch" href="/assets/js/130.0ba5b881.js"><link rel="prefetch" href="/assets/js/131.10c30f12.js"><link rel="prefetch" href="/assets/js/132.9c23610a.js"><link rel="prefetch" href="/assets/js/133.380eee89.js"><link rel="prefetch" href="/assets/js/134.3a4091e9.js"><link rel="prefetch" href="/assets/js/135.edb83ce8.js"><link rel="prefetch" href="/assets/js/136.dd076a56.js"><link rel="prefetch" href="/assets/js/137.be608d91.js"><link rel="prefetch" href="/assets/js/138.49432374.js"><link rel="prefetch" href="/assets/js/139.1ee70ffb.js"><link rel="prefetch" href="/assets/js/14.8b4f7627.js"><link rel="prefetch" href="/assets/js/140.02f936b6.js"><link rel="prefetch" href="/assets/js/141.3d9c7149.js"><link rel="prefetch" href="/assets/js/142.0d4e6526.js"><link rel="prefetch" href="/assets/js/143.a1714231.js"><link rel="prefetch" href="/assets/js/144.5d598d7e.js"><link rel="prefetch" href="/assets/js/145.b1cf6c51.js"><link rel="prefetch" href="/assets/js/146.29181095.js"><link rel="prefetch" href="/assets/js/147.65fde9c6.js"><link rel="prefetch" href="/assets/js/148.d53168e5.js"><link rel="prefetch" href="/assets/js/149.afac299d.js"><link rel="prefetch" href="/assets/js/15.a23e448b.js"><link rel="prefetch" href="/assets/js/150.1f92ce7e.js"><link rel="prefetch" href="/assets/js/151.f20e06f1.js"><link rel="prefetch" href="/assets/js/152.f8588b95.js"><link rel="prefetch" href="/assets/js/153.6c445ba9.js"><link rel="prefetch" href="/assets/js/154.131ae95a.js"><link rel="prefetch" href="/assets/js/155.f2d1a12a.js"><link rel="prefetch" href="/assets/js/156.21428dec.js"><link rel="prefetch" href="/assets/js/157.0417ae06.js"><link rel="prefetch" href="/assets/js/158.ca7e78f3.js"><link rel="prefetch" href="/assets/js/159.0de11e1b.js"><link rel="prefetch" href="/assets/js/16.e49d44e2.js"><link rel="prefetch" href="/assets/js/160.1ba216f2.js"><link rel="prefetch" href="/assets/js/161.b515ff2d.js"><link rel="prefetch" href="/assets/js/162.f6599cfd.js"><link rel="prefetch" href="/assets/js/163.b123c0de.js"><link rel="prefetch" href="/assets/js/164.093388c7.js"><link rel="prefetch" href="/assets/js/165.3ddda564.js"><link rel="prefetch" href="/assets/js/166.1dd8c156.js"><link rel="prefetch" href="/assets/js/167.f3bb1e80.js"><link rel="prefetch" href="/assets/js/168.360a8c73.js"><link rel="prefetch" href="/assets/js/169.65b7d52a.js"><link rel="prefetch" href="/assets/js/17.68fcf248.js"><link rel="prefetch" href="/assets/js/170.b6bd57d2.js"><link rel="prefetch" href="/assets/js/171.2e8878b8.js"><link rel="prefetch" href="/assets/js/172.1552f043.js"><link rel="prefetch" href="/assets/js/173.45037170.js"><link rel="prefetch" href="/assets/js/174.39cef537.js"><link rel="prefetch" href="/assets/js/175.f847a8ec.js"><link rel="prefetch" href="/assets/js/176.2963eb96.js"><link rel="prefetch" href="/assets/js/177.7135bb5b.js"><link rel="prefetch" href="/assets/js/178.747d0883.js"><link rel="prefetch" href="/assets/js/179.4a9d894b.js"><link rel="prefetch" href="/assets/js/18.5a0b2deb.js"><link rel="prefetch" href="/assets/js/180.3a5e1682.js"><link rel="prefetch" href="/assets/js/181.1382b266.js"><link rel="prefetch" href="/assets/js/182.d38f0f8b.js"><link rel="prefetch" href="/assets/js/183.60e9a314.js"><link rel="prefetch" href="/assets/js/184.20e17cef.js"><link rel="prefetch" href="/assets/js/185.ea9fff39.js"><link rel="prefetch" href="/assets/js/186.7f215ad9.js"><link rel="prefetch" href="/assets/js/187.f2676c9e.js"><link rel="prefetch" href="/assets/js/188.5a64b6bc.js"><link rel="prefetch" href="/assets/js/189.01fceec5.js"><link rel="prefetch" href="/assets/js/19.3c914534.js"><link rel="prefetch" href="/assets/js/190.cd91cc6b.js"><link rel="prefetch" href="/assets/js/191.a2e40a06.js"><link rel="prefetch" href="/assets/js/192.3c32cc86.js"><link rel="prefetch" href="/assets/js/193.20479072.js"><link rel="prefetch" href="/assets/js/194.0ced7501.js"><link rel="prefetch" href="/assets/js/195.41a040cc.js"><link rel="prefetch" href="/assets/js/196.da7591a8.js"><link rel="prefetch" href="/assets/js/197.9d30c1b9.js"><link rel="prefetch" href="/assets/js/198.f4f7511c.js"><link rel="prefetch" href="/assets/js/199.855a844d.js"><link rel="prefetch" href="/assets/js/20.8aad5283.js"><link rel="prefetch" href="/assets/js/200.ac878eea.js"><link rel="prefetch" href="/assets/js/201.cbaf059b.js"><link rel="prefetch" href="/assets/js/202.0ec86e91.js"><link rel="prefetch" href="/assets/js/203.f7ed5587.js"><link rel="prefetch" href="/assets/js/204.4cb994b2.js"><link rel="prefetch" href="/assets/js/205.620d5272.js"><link rel="prefetch" href="/assets/js/206.087832a5.js"><link rel="prefetch" href="/assets/js/207.bef5ca02.js"><link rel="prefetch" href="/assets/js/208.4f6a8af7.js"><link rel="prefetch" href="/assets/js/209.08d4bc86.js"><link rel="prefetch" href="/assets/js/21.e0b87017.js"><link rel="prefetch" href="/assets/js/210.75ec5fc9.js"><link rel="prefetch" href="/assets/js/211.f2359381.js"><link rel="prefetch" href="/assets/js/212.fb063e66.js"><link rel="prefetch" href="/assets/js/213.44c7a873.js"><link rel="prefetch" href="/assets/js/214.78d15ecc.js"><link rel="prefetch" href="/assets/js/215.89c3bc13.js"><link rel="prefetch" href="/assets/js/216.4db71337.js"><link rel="prefetch" href="/assets/js/217.165eedb7.js"><link rel="prefetch" href="/assets/js/218.e7ff90b1.js"><link rel="prefetch" href="/assets/js/219.19db37dc.js"><link rel="prefetch" href="/assets/js/22.70632614.js"><link rel="prefetch" href="/assets/js/220.6d8d4987.js"><link rel="prefetch" href="/assets/js/221.5df2be55.js"><link rel="prefetch" href="/assets/js/222.b7137c8b.js"><link rel="prefetch" href="/assets/js/223.536ea584.js"><link rel="prefetch" href="/assets/js/224.3b8d1552.js"><link rel="prefetch" href="/assets/js/225.a30526cc.js"><link rel="prefetch" href="/assets/js/226.5a3f1278.js"><link rel="prefetch" href="/assets/js/227.cc85c1f0.js"><link rel="prefetch" href="/assets/js/228.9a0bd486.js"><link rel="prefetch" href="/assets/js/229.c45724d3.js"><link rel="prefetch" href="/assets/js/23.03bfc71e.js"><link rel="prefetch" href="/assets/js/230.f136d56b.js"><link rel="prefetch" href="/assets/js/231.a70749b0.js"><link rel="prefetch" href="/assets/js/232.8c637cf0.js"><link rel="prefetch" href="/assets/js/233.81b663f2.js"><link rel="prefetch" href="/assets/js/234.ffabbdef.js"><link rel="prefetch" href="/assets/js/235.11e3e24c.js"><link rel="prefetch" href="/assets/js/236.a1c7e7dc.js"><link rel="prefetch" href="/assets/js/237.38a6a66b.js"><link rel="prefetch" href="/assets/js/238.b3e7efd2.js"><link rel="prefetch" href="/assets/js/239.3da5bc69.js"><link rel="prefetch" href="/assets/js/24.e2345451.js"><link rel="prefetch" href="/assets/js/240.576b8ade.js"><link rel="prefetch" href="/assets/js/241.006d2b39.js"><link rel="prefetch" href="/assets/js/242.c0ed86da.js"><link rel="prefetch" href="/assets/js/243.987e32d1.js"><link rel="prefetch" href="/assets/js/244.9a6e2c08.js"><link rel="prefetch" href="/assets/js/245.abee5942.js"><link rel="prefetch" href="/assets/js/246.864a52af.js"><link rel="prefetch" href="/assets/js/247.c9f2e901.js"><link rel="prefetch" href="/assets/js/248.bcc83f26.js"><link rel="prefetch" href="/assets/js/249.73f47bde.js"><link rel="prefetch" href="/assets/js/25.d579b8f4.js"><link rel="prefetch" href="/assets/js/250.d3ad4ec1.js"><link rel="prefetch" href="/assets/js/251.5e57a8c6.js"><link rel="prefetch" href="/assets/js/252.b1151bc5.js"><link rel="prefetch" href="/assets/js/253.24c941a7.js"><link rel="prefetch" href="/assets/js/254.d2424c19.js"><link rel="prefetch" href="/assets/js/255.2cc686a9.js"><link rel="prefetch" href="/assets/js/256.0a0ff853.js"><link rel="prefetch" href="/assets/js/257.2b6ae352.js"><link rel="prefetch" href="/assets/js/258.cd2b5f2f.js"><link rel="prefetch" href="/assets/js/259.bdd9a7a5.js"><link rel="prefetch" href="/assets/js/26.9ef3aa1a.js"><link rel="prefetch" href="/assets/js/260.c6940de0.js"><link rel="prefetch" href="/assets/js/261.4b92251d.js"><link rel="prefetch" href="/assets/js/262.4323250d.js"><link rel="prefetch" href="/assets/js/263.d7707580.js"><link rel="prefetch" href="/assets/js/264.d56efdd2.js"><link rel="prefetch" href="/assets/js/265.bf18562e.js"><link rel="prefetch" href="/assets/js/266.56099747.js"><link rel="prefetch" href="/assets/js/267.52ad08ad.js"><link rel="prefetch" href="/assets/js/268.551fe6af.js"><link rel="prefetch" href="/assets/js/269.d715aa2c.js"><link rel="prefetch" href="/assets/js/27.7aacdf13.js"><link rel="prefetch" href="/assets/js/270.81a2a8c5.js"><link rel="prefetch" href="/assets/js/271.5a10359f.js"><link rel="prefetch" href="/assets/js/272.fc32a8dc.js"><link rel="prefetch" href="/assets/js/273.ac5b0573.js"><link rel="prefetch" href="/assets/js/274.01ee0c5e.js"><link rel="prefetch" href="/assets/js/275.738e6099.js"><link rel="prefetch" href="/assets/js/276.9369cbbc.js"><link rel="prefetch" href="/assets/js/277.6c054e1b.js"><link rel="prefetch" href="/assets/js/278.c8120527.js"><link rel="prefetch" href="/assets/js/279.8dcc272e.js"><link rel="prefetch" href="/assets/js/28.c41b107f.js"><link rel="prefetch" href="/assets/js/280.f84c3eea.js"><link rel="prefetch" href="/assets/js/281.7b93295d.js"><link rel="prefetch" href="/assets/js/282.d52cf7c0.js"><link rel="prefetch" href="/assets/js/283.455805c4.js"><link rel="prefetch" href="/assets/js/284.1f5f8cd2.js"><link rel="prefetch" href="/assets/js/285.41b2af59.js"><link rel="prefetch" href="/assets/js/286.e4935ca6.js"><link rel="prefetch" href="/assets/js/287.ed3c6a61.js"><link rel="prefetch" href="/assets/js/288.be3598c9.js"><link rel="prefetch" href="/assets/js/289.8435c6eb.js"><link rel="prefetch" href="/assets/js/29.fa2caa5f.js"><link rel="prefetch" href="/assets/js/290.9f5b2426.js"><link rel="prefetch" href="/assets/js/291.fde403e6.js"><link rel="prefetch" href="/assets/js/292.f323c5b4.js"><link rel="prefetch" href="/assets/js/293.1f7f4251.js"><link rel="prefetch" href="/assets/js/294.85f46e90.js"><link rel="prefetch" href="/assets/js/295.43107676.js"><link rel="prefetch" href="/assets/js/296.900124ac.js"><link rel="prefetch" href="/assets/js/297.f1e6380f.js"><link rel="prefetch" href="/assets/js/298.bf0076a1.js"><link rel="prefetch" href="/assets/js/299.7f1cefc7.js"><link rel="prefetch" href="/assets/js/30.dde5c3c6.js"><link rel="prefetch" href="/assets/js/300.9d0ef5e5.js"><link rel="prefetch" href="/assets/js/301.c4bf02e7.js"><link rel="prefetch" href="/assets/js/302.9e349c18.js"><link rel="prefetch" href="/assets/js/303.b9ccd00e.js"><link rel="prefetch" href="/assets/js/304.cdd8741f.js"><link rel="prefetch" href="/assets/js/305.52b6f3dc.js"><link rel="prefetch" href="/assets/js/31.4f6da7b2.js"><link rel="prefetch" href="/assets/js/32.e9e29305.js"><link rel="prefetch" href="/assets/js/33.09275a9e.js"><link rel="prefetch" href="/assets/js/34.068c8ac1.js"><link rel="prefetch" href="/assets/js/35.1a9d712c.js"><link rel="prefetch" href="/assets/js/36.93f2a908.js"><link rel="prefetch" href="/assets/js/37.951e35f8.js"><link rel="prefetch" href="/assets/js/38.daa327b9.js"><link rel="prefetch" href="/assets/js/39.4f09dc07.js"><link rel="prefetch" href="/assets/js/40.0ed788c0.js"><link rel="prefetch" href="/assets/js/41.704b0730.js"><link rel="prefetch" href="/assets/js/42.d2cd249f.js"><link rel="prefetch" href="/assets/js/43.42798f03.js"><link rel="prefetch" href="/assets/js/44.d3dbb31b.js"><link rel="prefetch" href="/assets/js/45.45fa7a23.js"><link rel="prefetch" href="/assets/js/46.110ba849.js"><link rel="prefetch" href="/assets/js/47.bbe13f15.js"><link rel="prefetch" href="/assets/js/48.f9c4988d.js"><link rel="prefetch" href="/assets/js/49.ab8e9f2b.js"><link rel="prefetch" href="/assets/js/5.83c867f4.js"><link rel="prefetch" href="/assets/js/51.8b9547c1.js"><link rel="prefetch" href="/assets/js/52.84fce60c.js"><link rel="prefetch" href="/assets/js/53.908aeb67.js"><link rel="prefetch" href="/assets/js/54.6403120e.js"><link rel="prefetch" href="/assets/js/55.72ac028a.js"><link rel="prefetch" href="/assets/js/56.ea904dbd.js"><link rel="prefetch" href="/assets/js/57.eef50c96.js"><link rel="prefetch" href="/assets/js/58.185d80ec.js"><link rel="prefetch" href="/assets/js/59.c50134e7.js"><link rel="prefetch" href="/assets/js/6.118672f5.js"><link rel="prefetch" href="/assets/js/60.1f0989d1.js"><link rel="prefetch" href="/assets/js/61.c5d73f22.js"><link rel="prefetch" href="/assets/js/62.319915ce.js"><link rel="prefetch" href="/assets/js/63.fa1a1e72.js"><link rel="prefetch" href="/assets/js/64.402cb712.js"><link rel="prefetch" href="/assets/js/65.fc977c35.js"><link rel="prefetch" href="/assets/js/66.2b2fa863.js"><link rel="prefetch" href="/assets/js/67.fb751e5d.js"><link rel="prefetch" href="/assets/js/68.4ca276f4.js"><link rel="prefetch" href="/assets/js/69.9404f782.js"><link rel="prefetch" href="/assets/js/7.257e7239.js"><link rel="prefetch" href="/assets/js/70.8a32bbf4.js"><link rel="prefetch" href="/assets/js/71.1ee5ea22.js"><link rel="prefetch" href="/assets/js/72.0417fed8.js"><link rel="prefetch" href="/assets/js/73.248774be.js"><link rel="prefetch" href="/assets/js/74.ca433ba7.js"><link rel="prefetch" href="/assets/js/75.707c1d4d.js"><link rel="prefetch" href="/assets/js/76.ae71c893.js"><link rel="prefetch" href="/assets/js/77.548ddeba.js"><link rel="prefetch" href="/assets/js/78.20030567.js"><link rel="prefetch" href="/assets/js/79.321e2a18.js"><link rel="prefetch" href="/assets/js/80.0ed1041c.js"><link rel="prefetch" href="/assets/js/81.20cef870.js"><link rel="prefetch" href="/assets/js/82.d2f1ab49.js"><link rel="prefetch" href="/assets/js/83.c988c4ff.js"><link rel="prefetch" href="/assets/js/84.760b2f14.js"><link rel="prefetch" href="/assets/js/85.6d57c38c.js"><link rel="prefetch" href="/assets/js/86.406d1e69.js"><link rel="prefetch" href="/assets/js/87.682459b3.js"><link rel="prefetch" href="/assets/js/88.fe78607b.js"><link rel="prefetch" href="/assets/js/89.753281e3.js"><link rel="prefetch" href="/assets/js/9.0501920c.js"><link rel="prefetch" href="/assets/js/90.705777e2.js"><link rel="prefetch" href="/assets/js/91.505ae7d2.js"><link rel="prefetch" href="/assets/js/92.bc397585.js"><link rel="prefetch" href="/assets/js/93.1654e248.js"><link rel="prefetch" href="/assets/js/94.0706eff5.js"><link rel="prefetch" href="/assets/js/95.399712f9.js"><link rel="prefetch" href="/assets/js/96.463ed2e0.js"><link rel="prefetch" href="/assets/js/97.2d7bc94b.js"><link rel="prefetch" href="/assets/js/98.cca46f5c.js"><link rel="prefetch" href="/assets/js/99.eb923908.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7cce12cd.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/img/hero.png" alt="akin前端手记" class="logo"> <span class="site-name can-hide">akin前端手记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="大前端" class="dropdown-title"><span class="title">大前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="大前端" class="mobile-dropdown-title"><span class="title">大前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh_CN/ps-cook/01-ps.html" class="nav-link">
  ps-pxcook
</a></li><li class="dropdown-item"><!----> <a href="/zh_CN/svn/chap01_setup.html" class="nav-link">
  svn
</a></li><li class="dropdown-item"><!----> <a href="/zh_CN/git/chap01_setup.html" class="nav-link">
  git
</a></li><li class="dropdown-item"><!----> <a href="/zh_CN/less/01-less介绍.html" class="nav-link">
  less
</a></li><li class="dropdown-item"><!----> <a href="/zh_CN/js_advance/chap01_setup.html" class="nav-link">
  js高级
</a></li><li class="dropdown-item"><!----> <a href="/zh_CN/es6/01-es6-letconst.html" class="nav-link">
  es6
</a></li><li class="dropdown-item"><!----> <a href="/zh_CN/promise/01-setup.html" class="nav-link">
  promise
</a></li><li class="dropdown-item"><!----> <a href="/zh_CN/js_data_ai/chap01_setup.html" class="nav-link">
  js数据结构和算法
</a></li><li class="dropdown-item"><!----> <a href="/zh_CN/vue2_src_parse/chap01_setup.html" class="nav-link">
  vue2源码分析
</a></li><li class="dropdown-item"><!----> <a href="/zh_CN/note_howtocreate_vuepressapp/chapter01_create_vp_star.html" class="nav-link">
  搭建vuepress
</a></li><li class="dropdown-item"><!----> <a href="/zh_CN/toutiao_mobile/chap01_setup.html" class="nav-link">
  头条移动端文档
</a></li><li class="dropdown-item"><!----> <a href="/zh_CN/xcx_mall/01-首页模块.html" class="nav-link">
  商城微信小程序文档
</a></li><li class="dropdown-item"><!----> <a href="/zh_CN/v3_supermall/01-项目起步.html" class="nav-link">
  vue3小兔鲜文档
</a></li><li class="dropdown-item"><!----> <a href="/zh_CN/front_end_mianshiti/chap01_setup.html" class="nav-link">
  前端面试题
</a></li><li class="dropdown-item"><!----> <a href="/zh_CN/vuemianshi/01-diff.html" class="nav-link">
  Vue面试题
</a></li><li class="dropdown-item"><!----> <a href="/zh_CN/mianjing/01-mj1.html" class="nav-link">
  前端面经
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="大前端" class="dropdown-title"><span class="title">大前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="大前端" class="mobile-dropdown-title"><span class="title">大前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh_CN/ps-cook/01-ps.html" class="nav-link">
  ps-pxcook
</a></li><li class="dropdown-item"><!----> <a href="/zh_CN/svn/chap01_setup.html" class="nav-link">
  svn
</a></li><li class="dropdown-item"><!----> <a href="/zh_CN/git/chap01_setup.html" class="nav-link">
  git
</a></li><li class="dropdown-item"><!----> <a href="/zh_CN/less/01-less介绍.html" class="nav-link">
  less
</a></li><li class="dropdown-item"><!----> <a href="/zh_CN/js_advance/chap01_setup.html" class="nav-link">
  js高级
</a></li><li class="dropdown-item"><!----> <a href="/zh_CN/es6/01-es6-letconst.html" class="nav-link">
  es6
</a></li><li class="dropdown-item"><!----> <a href="/zh_CN/promise/01-setup.html" class="nav-link">
  promise
</a></li><li class="dropdown-item"><!----> <a href="/zh_CN/js_data_ai/chap01_setup.html" class="nav-link">
  js数据结构和算法
</a></li><li class="dropdown-item"><!----> <a href="/zh_CN/vue2_src_parse/chap01_setup.html" class="nav-link">
  vue2源码分析
</a></li><li class="dropdown-item"><!----> <a href="/zh_CN/note_howtocreate_vuepressapp/chapter01_create_vp_star.html" class="nav-link">
  搭建vuepress
</a></li><li class="dropdown-item"><!----> <a href="/zh_CN/toutiao_mobile/chap01_setup.html" class="nav-link">
  头条移动端文档
</a></li><li class="dropdown-item"><!----> <a href="/zh_CN/xcx_mall/01-首页模块.html" class="nav-link">
  商城微信小程序文档
</a></li><li class="dropdown-item"><!----> <a href="/zh_CN/v3_supermall/01-项目起步.html" class="nav-link">
  vue3小兔鲜文档
</a></li><li class="dropdown-item"><!----> <a href="/zh_CN/front_end_mianshiti/chap01_setup.html" class="nav-link">
  前端面试题
</a></li><li class="dropdown-item"><!----> <a href="/zh_CN/vuemianshi/01-diff.html" class="nav-link">
  Vue面试题
</a></li><li class="dropdown-item"><!----> <a href="/zh_CN/mianjing/01-mj1.html" class="nav-link">
  前端面经
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>front_end_mianshiti</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh_CN/front_end_mianshiti/chap01_setup.html" class="sidebar-link">01_html面试题</a></li><li><a href="/zh_CN/front_end_mianshiti/chap02_css面试题.html" class="sidebar-link">chap02_css面试题</a></li><li><a href="/zh_CN/front_end_mianshiti/chap03_js面试题.html" class="sidebar-link">chap03_js面试题</a></li><li><a href="/zh_CN/front_end_mianshiti/chap04_vue2面试题.html" class="sidebar-link">chap04-Vue2面试题</a></li><li><a href="/zh_CN/front_end_mianshiti/chap05_黑马初级面试题.html" class="sidebar-link">chap05_黑马初级面试题</a></li><li><a href="/zh_CN/front_end_mianshiti/chap06_重绘-重排与验证码与class写法.html" class="sidebar-link">1:重绘-重排与验证码与class写法</a></li><li><a href="/zh_CN/front_end_mianshiti/chap07_验证码.html" class="sidebar-link">2:网页验证码作用以及常见的验证码（介绍+技术）</a></li><li><a href="/zh_CN/front_end_mianshiti/chap08_es6类语法.html" class="sidebar-link">3:es6类语法</a></li><li><a href="/zh_CN/front_end_mianshiti/chap09-async-await.html" class="sidebar-link">4: async-await</a></li><li><a href="/zh_CN/front_end_mianshiti/chap10_ts.html" class="sidebar-link">5: Typescript在项目中的使用</a></li><li><a href="/zh_CN/front_end_mianshiti/chap11_ts装饰器.html" class="sidebar-link">6: Typescript装饰器</a></li><li><a href="/zh_CN/front_end_mianshiti/chap12-js事件执行.html" class="sidebar-link">js事件执行</a></li><li><a href="/zh_CN/front_end_mianshiti/chap13-flex布局.html" class="sidebar-link">8:flex布局</a></li><li><a href="/zh_CN/front_end_mianshiti/chap14-网站部署.html" class="sidebar-link">9:移动端部署-网站部署</a></li><li><a href="/zh_CN/front_end_mianshiti/chap15-cookie.html" class="sidebar-link">10:cookie</a></li><li><a href="/zh_CN/front_end_mianshiti/chap16-浏览器缓存.html" class="sidebar-link">11:浏览器缓存原理</a></li><li><a href="/zh_CN/front_end_mianshiti/chap17-h5manifest.html" class="sidebar-link">12:h5离线存储manifest</a></li><li><a href="/zh_CN/front_end_mianshiti/chap18-websoket.html" class="sidebar-link">13:websoket实现原理</a></li><li><a href="/zh_CN/front_end_mianshiti/chap19-移动端兼容.html" class="sidebar-link">移动端兼容(android,ios)</a></li><li><a href="/zh_CN/front_end_mianshiti/chap20-hybird混合App.html" class="sidebar-link">hybird混合App</a></li><li><a href="/zh_CN/front_end_mianshiti/chap21-uniapp.html" class="sidebar-link">16:uniapp</a></li><li><a href="/zh_CN/front_end_mianshiti/chap22-讲解思路学习目标.html" class="sidebar-link">讲解思路学习目标</a></li><li><a href="/zh_CN/front_end_mianshiti/chap23-一次完成的http请求过程.html" class="sidebar-link">一次完成的http请求过程</a></li><li><a href="/zh_CN/front_end_mianshiti/chap24-回答模板.html" class="sidebar-link">回答模板</a></li><li><a href="/zh_CN/front_end_mianshiti/chap25-http缓存控制.html" class="sidebar-link">http缓存控制</a></li><li><a href="/zh_CN/front_end_mianshiti/chap26-fetch-axios.html" class="sidebar-link">fetch-axios</a></li><li><a href="/zh_CN/front_end_mianshiti/chap27-浏览器多标签页通信.html" class="sidebar-link">浏览器多标签页通信</a></li><li><a href="/zh_CN/front_end_mianshiti/chap28-攻击防范.html" class="sidebar-link">攻击防范</a></li><li><a href="/zh_CN/front_end_mianshiti/chap29-vuex面试题.html" class="sidebar-link">vuex</a></li><li><a href="/zh_CN/front_end_mianshiti/chap30-promise.html" class="sidebar-link">Promise</a></li><li><a href="/zh_CN/front_end_mianshiti/chap31-公司项目流程.html" class="sidebar-link">公司项目流程</a></li><li><a href="/zh_CN/front_end_mianshiti/chap32-性能优化.html" class="active sidebar-link">性能优化面试题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh_CN/front_end_mianshiti/chap32-性能优化.html#问题列表" class="sidebar-link">问题列表</a></li><li class="sidebar-sub-header"><a href="/zh_CN/front_end_mianshiti/chap32-性能优化.html#学习目标" class="sidebar-link">学习目标</a></li><li class="sidebar-sub-header"><a href="/zh_CN/front_end_mianshiti/chap32-性能优化.html#首屏加载慢的优化" class="sidebar-link">首屏加载慢的优化</a></li><li class="sidebar-sub-header"><a href="/zh_CN/front_end_mianshiti/chap32-性能优化.html#优化图片的做法" class="sidebar-link">优化图片的做法</a></li><li class="sidebar-sub-header"><a href="/zh_CN/front_end_mianshiti/chap32-性能优化.html#实现webpack打包" class="sidebar-link">实现webpack打包</a></li><li class="sidebar-sub-header"><a href="/zh_CN/front_end_mianshiti/chap32-性能优化.html#实现cdn加速" class="sidebar-link">实现CDN加速</a></li><li class="sidebar-sub-header"><a href="/zh_CN/front_end_mianshiti/chap32-性能优化.html#如何渲染十万条数据不卡顿" class="sidebar-link">如何渲染十万条数据不卡顿</a></li></ul></li><li><a href="/zh_CN/front_end_mianshiti/chap32-性能模板.html" class="sidebar-link">/zh_CN/front_end_mianshiti/chap32-性能模板.html</a></li><li><a href="/zh_CN/front_end_mianshiti/chap33_防抖节流.html" class="sidebar-link">chap33_防抖节流</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="性能优化面试题"><a href="#性能优化面试题" class="header-anchor">#</a> 性能优化面试题</h1> <h2 id="问题列表"><a href="#问题列表" class="header-anchor">#</a> 问题列表</h2> <p>初始阶段-》加载优化</p> <ol><li>首页加载慢的优化</li> <li>优化图片的做法</li> <li>实现webpack打包优化</li> <li>实现cdn加速</li></ol> <p>运行阶段-》渲染优化</p> <ol><li>渲染十万条数据如何造成不卡顿</li></ol> <h2 id="学习目标"><a href="#学习目标" class="header-anchor">#</a> 学习目标</h2> <ul><li>理解前端优化中两个分类</li> <li>了解导致前端性能问题的根本原因</li> <li>知道一些常用的性能问题的解决方案</li></ul> <h2 id="首屏加载慢的优化"><a href="#首屏加载慢的优化" class="header-anchor">#</a> 首屏加载慢的优化</h2> <ul><li><p>敲百度网址 （网页元素简单，加载稍块）</p></li> <li><p>敲淘宝网址 （网页元素复杂，加满稍慢）</p></li> <li><p>问题分析</p> <ol><li>首页加载图片过多</li> <li>首页的请求量过多</li> <li>首页请求的静态资源(HTML、CSS、JS、图片.)过大</li></ol> <blockquote><p>结论:所有加载慢的问题最终都可以归纳成两个问题多和大。Tips:还有网速不好和电脑太渣</p></blockquote></li> <li><p>问题讲解</p> <ol><li>模拟面试对话</li> <li>Q:面试官爸爸; A:你;</li> <li>Q:那既然你已经知道了首页加载慢的几个原因,那我先问你首页加载图片过多怎么处理?</li> <li>A:减少图片不就完了吗</li> <li>如何分析:看看淘宝怎么解决</li> <li>A:可以通过懒加载的方式来减少首屏图片的加载量</li> <li>Q:懒加载是什么原理?</li> <li>如何分析，查看懒加载的js库</li></ol> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>A lazy Image<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lazy.jpg<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!-- 滚动到特定位置的时候 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>A lazy image<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lazy.jpg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lazy.jpg<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="9"><li>A:懒协载原理就是监听滚动条事件,如果(滚动条距离浏览器顶部的高度===图片距离顶部的高度),那么就将data-src的值赋值到 src 上。</li> <li>Q:那假设首页的小图片就是很多,比如有很多个小ICON怎么办?</li> <li>如何分析，看看淘宝</li></ol> <ul><li>对于纯色系小图标用iconfont来解决
<ul><li>设置font-family的css属性</li></ul></li> <li>对于一些彩色的小图片可以使用雪碧图（精灵图）
<ul><li>把所有小图片拼接在一张大图上</li> <li>并且使用background-position的
css属性来修改图片坐标</li></ul></li></ul> <ol start="12"><li>A:可以分别使用iconfont和雪碧图来处理小图标和小图片</li></ol> <blockquote><p>总结
首页加载图片过多的问题,可以通过以下几种方法解决:
1.通过懒加载的方式处理非首屏的图片</p></blockquote> <ol start="2"><li>对于纯色小图标可以采用iconfont的方式解决</li> <li>对于小图片采用雪碧图（精灵图）方式解决</li></ol></li></ul> <hr> <ul><li><p>Q:首页的请求量过多怎么解决?</p></li> <li><p>如何分析： 先通过工具来确定是哪些类型的资源请求过多</p></li> <li><p>通过浏览器的Network可以确定首页加载的资源和请求量</p> <ol><li>requests 请求数量</li> <li>resources:前端资源总大小</li> <li>DOMContentLoaded:浏览器已经完全加载了HTML,其他静态资源(JS, CSS,图片等)并没有下载完毕(能看,不能用)</li> <li>Load: 浏览器已经加载了所有的静态资源(能用了)</li></ol></li> <li><p>通过f12-三个点-more tools - converge来查看代码的使用状况</p> <ol><li>只针对JS和CSS</li> <li>可以看出哪些代码虽然加载了但是没有执行</li> <li>没有执行的代码可以考虑一下是否可以懒加载?</li></ol></li> <li><p><img src="https://gitee.com/toprhythm/pic-bed/raw/master/01-javase-pics/20220310094546.png" alt="f12network"></p></li> <li><p>A:可以通过减少资源的请求量</p> <ul><li>通过nginx服务器(可用来做CDN,用来处理静态资源)来做资源文件合并combo--将多个JavaScript、</li> <li>CSS文件合并成一个</li> <li>扩展:日常企业项目中服务器按照功能区分:
<ul><li>应用服务器:服务端语言运行的服务器(Java, NodeJS...)放淘宝应用的位置</li> <li>数据库服务器:放数据库的服务器</li> <li>存储服务器:放大型文件的服务器(例如各种网盘)</li> <li>CDN服务器:放静态资源的服务器(JS, CSS,图片,字体.)</li></ul></li> <li>通过打包工具(Webpack)来做资源文件的物理打包(相对没有第一种灵活)</li></ul></li> <li><p>Q:只有通过合并静态资源的方式才能减少资源请求量吗?</p></li> <li><p>https://github.com/alibaba/nginx-http-concat</p></li> <li><p>http://www.taobao.com/a.js,b.js,c.js // 返回abcjs的集合单文件，也可以单独访问http://www.taobao.com/a|b|c.js</p></li> <li><p>如何分析</p> <ul><li>除了从资源层面来解决问题,还可以从我们自己写的代码本身来考虑。</li> <li>对于引入的一些比较大型的第三方库,比如组件库(antd, element-ui) ,函数库(lodash)等,务必设定按需加载。Tips:一般都是用Babel插件来实现的</li> <li>可以通过前端路由懒加载的方式(只限于SPA应用)
<ul><li>使用React lazy进行动态路由的加载(React 16.6 以上版本才可以使用React lazy)</li> <li>演示React lazy 的使用</li></ul></li></ul></li> <li><p>A:当然不是,还可以从代码层面的优化,比如说:</p> <ul><li>如果在项目中引入了比较大型的第三方库,那就可以通过特定的Babel插件来进行按需加载</li> <li>在路由层面也可以使用React lazy进行动态路由的加载,从而可以减少首页的JS和CSS的大小</li></ul></li> <li><p>Q:那我问你为什么React lazy可以进行动态路由的加载?</p></li> <li><p>如何分析:先看看使用方式 router.js</p></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> lazy <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    path<span class="token punctuation">,</span>
    <span class="token literal-property property">compoennt</span><span class="token operator">:</span> <span class="token function">lazy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'../containers/Home'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">expect</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// 路由严格匹配</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li><p>import('xxx') 返回的是- Promise</p></li> <li><p>Webpack 只要遇到了 import(&quot;xxx'),就会把括号里引入的内容单独打一个包</p></li> <li><p>A: 首先React lazy 是使用了 dynamic import 的标准, webpack 只要遇到了 dynamic import,就会把里面引入的内容单独打一个包。由于dynamic import 返回的是一个Promise,所以可以使用Promise的状态来做宣染的流程控制。如果当前Promise 是 pending状态,那么就演染Loading 组件,如果Promise是resolve状态那么就宣染动态导入的组件。</p></li> <li><p>f12js路由懒加载,很棒的</p></li> <li><p>总结</p> <ol><li>通过nginx服务器来做资源文件的合并或者通过Webpack等打包工具进行物理打包</li> <li>在代码层面,对于需要引入一些大型第三方库的时候,可以通过特定的Babel插件来进行按需加载</li> <li>还有可以使用React lazy或其他动态导入方案来进行前端路由层面的动态加载,从而可以减少首页的JS和CSS的大小</li></ol></li></ul> <hr> <ul><li><p>Q:首页请求的资源(CSS,Js、图片)过大怎么解决?</p></li> <li><p>A:把资源变小不就完了吗?</p></li> <li><p>怎么变小?</p></li> <li><p>A:</p> <ol><li>要分资源文件,yCSS, JS,图片等要分开来处理</li> <li>CSS和JS可以通过Webpack来进行混淆和压缩(下个题目讲)混淆:将JS代码进行字符串加密(最大层度减少代码,比如将长变量名变成单个字母等等)压缩:去除注释空行以及console.log等调试代码</li> <li>图片也可以进行压缩(下个题目讲)1.可以通过自动化工具来压缩图片;2.对图片进行转码-&gt;base64格式;3:使用WebP 格式;</li> <li>通过开启gzip进行全部资源压缩1.gzip:是一种压缩文件格式,可以对任何文件进行压缩(类比于文件压缩); 2: 可以通过nginx服务器的配置项进行开启(演示/usr/local/etc/nginx); 就一行代码解开注释 nginx.conf:  gzip on; 重启nginx,刷新页面</li></ol></li> <li><p>答题思路</p></li></ul> <h2 id="优化图片的做法"><a href="#优化图片的做法" class="header-anchor">#</a> 优化图片的做法</h2> <ul><li><p>问题分析</p> <ol><li>减少图片的请求-可懒加载图片</li> <li>减少图片的大小</li></ol></li> <li><p>问题讲解</p> <ol><li>Q:好,那你刚刚说可以使用自动化工具对图片进行压缩,你是使用什么工具?</li> <li>A:用熊猫站不就完了吗?如何分析:熊猫站:智能压缩PNG 和JPG的一个网站;1.可以对图片进行<strong>等比例无损压缩</strong> tinypng.com</li> <li>Q:那你认为为什么这个工具可以同比例无损压缩?</li> <li>A:如何分析:通过相似颜色“量化&quot;的技术来减少颜色数量,并且可以将24位的PNG文件转化成8位的彩色图片。同时可以将不必要的元数据进行剥离。人话:通过减少颜色的数量以及不必要的数据来实现文件压缩;</li> <li>A:通过减少颜色的数量以及不必要的数据来实现文件压缩</li> <li>Q:非常nice,但是这是方式不是有一个问题?难道每当我需要处理图片的时候,就要进入这个网站去上传一下吗?这样不仅仅效率低,还不安全。</li> <li>A:熊猫站很佛系的,把图片压缩的技术开源出来的,他们把图片压缩工具开放出来了。可以使用npm安装开源包,就可以在我们本地进行图片压缩啦 npm i -S tinify</li> <li>Q:那除了这个方式还有什么其他的方式来优化图片吗?</li> <li>webpack-&gt;对图片进行转码-&gt;base64格式</li> <li>A:可以使用Webpack的url-loader 进行图片策略配置,将小图转换成base64格式,因为base64 格式的图片的作用是减少资源的数量,但是base64格式的图片会增大原有图片的体积</li> <li>A:还有一种方式就是使用webp格式的图片: 图片格式有很多种, PNG、JPG、GIF,还有新的WebP格式,WebP 的优势:根据Google的测试,同等条件等比例无损压缩后的WebP 比 PNG文件少了26%的体积。并且图片越多,压缩后的体积优势越明显,压缩率比较, JPG vs WebP</li></ol></li> <li><p>答题思路</p></li> <li><p>图片的优化,也是从两个方面来考虑:太多和太大。</p> <ol><li>可以通过懒加载减少图片的请求,或者通过雪碧图来合并图片,以及将小图转化成base64的格式,来解决多的问题。</li> <li>图片大的问题,可以通过自动化压缩工具来压缩图片,或者使用WebP格式的图片。</li></ol></li></ul> <hr> <h2 id="实现webpack打包"><a href="#实现webpack打包" class="header-anchor">#</a> 实现webpack打包</h2> <ul><li><p>问题分析</p></li> <li><p>Q:我问你,怎么使用Webpack进行打包优化?</p></li> <li><p>A:少和小</p></li> <li><p>Q:怎么样少,怎么样小</p></li> <li><p>如何分析</p> <ol><li>少-&gt;使用Webpack进行物理打包。</li> <li>小-&gt;使用Webpack 进行混滑和压缩,所有与Webpack优化相关的配置都是在optimization这个理。</li> <li>从webpack 4开始,会根据你选择的mode来执行不同的优化,不过所有的优化还是可以手动</li> <li>development:不混淆,不压缩,不优化</li> <li>production:混淆+压缩,自动内置优化</li> <li>结论:只需要将mode改成 production即可</li></ol></li> <li><p>A:使用Webpack对代码进行混涌和压缩,并且可以使用React lazy进行拆包,结合路由进行按需加载。</p></li> <li><p>Q:那这里是不是有个问题?既然你对文件进行拆包处理,那么肯定会造成文件变多,是不是有矛盾?</p></li> <li><p>A:其实不冲突,因为拆包后的文件,不可能同时加载的,所以就不会造成同一时间资源请求过多的请求。</p> <ul><li>但是要注意打包策略</li> <li>我们通常会把包,分为两类</li> <li>第三方包(node_modules里面的)</li> <li>自己实现的代码(src目录里面的)</li> <li>所以我们可以把第三方包打一个包,公共的代码打一个包,非公共的代码打一个包。</li> <li>第三方包:改动频率-小</li> <li>公共代码包 改动频率-中</li> <li>非公共代码包，改动频率-高</li></ul></li> <li><p>所以可以将打包策略结合网络缓存来做优化</p> <ul><li>对于不需要经常变动的资源(第三方包),可以使用Cache-Control: max-age=31536000(缓存一年)并配合协商缓存ETag使用(一旦文件名变动才会下载新的文件)</li> <li>对于需要频繁变动的资源(代码包),可以使用Cache-Control: no-cache并配合ETag使用,表示该资源已被缓存,但是每次都会发送请求询问资源是否更新。</li></ul></li> <li><p>A:其实不冲突,因为拆包后的文件,不可能同时加载的,所以就不会造成同一时间资源请求过多的请求。但是可以使用Webpack的 optimization.splitChunks 进行打包策略的优化。将node_modules 单独打包,以及将自己实现的代码也可以分为公共包和非公共包,并且分开打包。</p></li> <li><p>最后还可以结合网络缓存来做加载性能优化。</p></li> <li><p>问题讲解</p></li> <li><p>答题思路</p></li> <li><p>Webpack 打包优化,也是从两个方面来考虑:太多和太大。</p> <ol><li>可以通过设置mode= production来默认实现Webpack对代码的混淆和压缩,从而最大程度的减少代码体积</li> <li>使用Webpack + dynamic import 并结合路由的入口文件做拆包处理</li> <li>并且可以设定一些打包策略,并配合网络缓存做最终的加载性能优化。</li></ol></li></ul> <hr> <h2 id="实现cdn加速"><a href="#实现cdn加速" class="header-anchor">#</a> 实现CDN加速</h2> <ul><li>问题分析</li> <li>cdn是nginx实现的</li></ul> <ol><li>什么叫做cdn，内容分发网络</li> <li>为什么cdn可以实现加速</li></ol> <ul><li>问题讲解
<ul><li>为什么cdn可以实现加速</li></ul></li></ul> <p>图：
<img src="https://gitee.com/toprhythm/pic-bed/raw/master/01-javase-pics/20220310105827.png" alt="cdn"></p> <ul><li>游戏分区:北京一区,上海一区,广东一区..</li> <li>Tips: CDN服务器就是在你家门口放一台服务器,把所有的静态资源都同步到你家门口这台服务器上,以后只要你访问这个网站,都直接从这台服务器上下载静态资源。</li></ul> <p><img src="https://gitee.com/toprhythm/pic-bed/raw/master/01-javase-pics/20220310110124.png" alt="图"></p> <ul><li><p>扩展: Http2.0: 引入了多路复用的机制,可以最大化发送请求数量。</p></li> <li><p>答题思路</p> <ul><li>CDN服务器主要是用来放静态资源的服务器,可以用来加速静态资源的下载</li> <li>CDN之所以能够加速,是因为会在很多地方都部署CDN服务器,如果用户需要下载静态资源,会自动选择最近的节点下载</li> <li>同时由于CDN服务器的地址一般都跟主服务器的地址不同,所以可以破除浏览器对同一个域名发送请求的限制</li></ul></li></ul> <hr> <h2 id="如何渲染十万条数据不卡顿"><a href="#如何渲染十万条数据不卡顿" class="header-anchor">#</a> 如何渲染十万条数据不卡顿</h2> <ul><li><p>问题分析</p> <ol><li><p>为什么演染很多条数据会造成浏览器卡顿</p></li> <li><p>怎么优化长列表的情况</p></li></ol></li> <li><p>问题讲解
<img src="https://gitee.com/toprhythm/pic-bed/raw/master/01-javase-pics/20220310110602.png" alt="123"></p></li> <li><p>结论</p> <ol><li>1.无论是浏览器中的DOM和BOM,还是NodeJs,它们都是基于JavaScript引擎之上开发出来的</li> <li>DOM 和BOM的处理最终都是要被转换成JavaScript引擎能够处理的数据</li> <li>这个转换的过程很耗时</li> <li>所以在浏览器中最消耗性能的就是操作DOM,为什么vue里有虚拟dom，就是为什么减少操作dom</li></ol></li> <li><p>怎么优化很多数据的情况?</p> <ol><li>指导原则:尽可能的减少DOM的操作</li></ol></li> <li><p>eg:假如有一个需求,我们要在一个页面中ul标签里演染十万个li标签。</p></li> <li><p>十万优化前代码:</p></li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>IE=edge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token comment">// 监听dom是否渲染完毕</span>
    <span class="token keyword">let</span> stateCheck <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      
      <span class="token keyword">if</span> <span class="token punctuation">(</span> document<span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token string">'complete'</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token function">clearInterval</span><span class="token punctuation">(</span>stateCheck<span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">timeEnd</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>

    console<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// 插入十万条数据</span>
    <span class="token keyword">const</span> total <span class="token operator">=</span> <span class="token number">100000</span>
    <span class="token keyword">let</span> ul <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'ul'</span><span class="token punctuation">)</span>

    <span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">//111.创建虚拟节点, 使用 createDocumentFragment 不会触发演染</span>
      <span class="token keyword">const</span> fragment <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createDocumentFragment</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token comment">// 2. 循环十万条</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> total<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> li <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span>
        li<span class="token punctuation">.</span>innerText <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> total<span class="token punctuation">)</span>
        fragment<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>li<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// 3. 最后把虚拟节点appedn到ul上</span>
      ul<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>fragment<span class="token punctuation">)</span><span class="token comment">// default: 4100.618896484375 ms 4秒</span>
    <span class="token punctuation">}</span>
    <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>


<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div><ul><li><p>优化前结果:
<img src="https://gitee.com/toprhythm/pic-bed/raw/master/01-javase-pics/20220310114124.png" alt="before"></p></li> <li><p>十万优化后代码</p></li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>IE=edge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">


    <span class="token comment">// 监听dom是否渲染完毕</span>
    <span class="token keyword">let</span> stateCheck <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span> document<span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token string">'complete'</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token function">clearInterval</span><span class="token punctuation">(</span>stateCheck<span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">timeEnd</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>

    console<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// 插入十万条数据</span>
    <span class="token keyword">const</span> total <span class="token operator">=</span> <span class="token number">100000</span>
    <span class="token keyword">let</span> ul <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'ul'</span><span class="token punctuation">)</span>

    <span class="token comment">// 懒加载思路 分段渲染</span>
    <span class="token comment">// 1. 一次渲染一屏幕的量</span>
    <span class="token keyword">const</span> once <span class="token operator">=</span> <span class="token number">20</span>
    <span class="token comment">// 2. 全部渲染完需要多少次，循环的时候要用</span>
    loopCount <span class="token operator">=</span> total <span class="token operator">/</span> once <span class="token comment">// 100000 / 20 = 5000（次）</span>
    <span class="token comment">// 3. 已经渲染了多少次</span>
    <span class="token keyword">let</span> countRendered <span class="token operator">=</span> <span class="token number">0</span>

    <span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">//111.创建虚拟节点, 使用 createDocumentFragment 不会触发演染</span>
      <span class="token keyword">const</span> fragment <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createDocumentFragment</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token comment">// 2. 循环20次</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> once<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> li <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span>
        li<span class="token punctuation">.</span>innerText <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> total<span class="token punctuation">)</span>
        fragment<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>li<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// 3. 最后把虚拟节点appedn到ul上</span>
      ul<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>fragment<span class="token punctuation">)</span><span class="token comment">// default: 4100.618896484375 ms 4秒</span>
      <span class="token comment">// 4. 已经渲染的次数+=1</span>
      countRendered <span class="token operator">+=</span> <span class="token number">1</span>
      <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// 递归</span>
    <span class="token punctuation">}</span>
    <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// 最重要的部分来了</span>
    <span class="token keyword">function</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 1. 如果还没渲染完，就继续使用requestAnimationFrame渲染 </span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>countRendered <span class="token operator">&lt;</span> loopCount<span class="token comment">/*5000*/</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// window.requestAnimationFrame(add)</span>
        <span class="token comment">// requestAnimationFrame等价于  setTimeout(add, 16)</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span>add<span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// default: 100.35888671875 ms 十分之一秒加载完毕</span>

  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>


<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br></div></div><ul><li><p>优化后结果
<img src="https://gitee.com/toprhythm/pic-bed/raw/master/01-javase-pics/20220310114242.png" alt="优化后"></p></li> <li><p>结论：</p> <ol><li>可以使用 document.createDocumentFragment 创建虚拟节点,从而避免引起没有必要的渲染</li> <li>当所有的li都创建完毕后,一次性把虚拟节点里的li标签全部宣染出来</li> <li>可以采取分段宣染的方式,比如一次只宣染一屏的数据</li> <li>最后使用 window.requestAnimationFrame来逐帧渲染</li></ol></li> <li><p>答题思路</p></li> <li><p>silu</p> <ol><li>导致浏览器卡顿的原因一般都是操作DOM的次数太频繁。</li> <li>如果想要宣染很多条数据不造成卡顿,那么就一定要尽可能的减少操作DOM的次数。</li> <li>比方说React的虚拟DOM,本质上就是用JS数据来模拟真实DOM树,从而大大减少了操作真是DOM的次数。</li></ol></li> <li><p>课程总结</p> <ol><li>在前端中性能优化的点主要分为两个阶段:</li> <li>1.初始阶段,主要就是加载方面优化的问题。所有问题的指导原则就两点:</li> <li>尽可能的减少前端资源的数量,</li> <li>尽可能的减小前端资源的大小</li> <li>运行阶段,主要就是演染方面优化的问题。只要是在浏览器中,所有的问题的指导原则就是:</li> <li>尽可能的减少操作DOM</li></ol></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/zh_CN/front_end_mianshiti/chap31-公司项目流程.html" class="prev">
        公司项目流程
      </a></span> <span class="next"><a href="/zh_CN/front_end_mianshiti/chap32-性能模板.html">
        /zh_CN/front_end_mianshiti/chap32-性能模板.html
      </a>
      →
    </span></p></div>  <!----> <div style="text-align:center;" data-v-4f5e5230><!----></div></main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.5233d0ec.js" defer></script><script src="/assets/js/8.c912c9ff.js" defer></script><script src="/assets/js/2.d5a55312.js" defer></script><script src="/assets/js/50.0f0573fe.js" defer></script><script src="/assets/js/3.4eeae697.js" defer></script><script src="/assets/js/4.e9a16dec.js" defer></script>
  </body>
</html>
