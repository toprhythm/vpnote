(window.webpackJsonp=window.webpackJsonp||[]).push([[236],{701:function(t,s,a){"use strict";a.r(s);var e=a(35),i=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"_59-01-购物车功能分析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_59-01-购物车功能分析"}},[t._v("#")]),t._v(" 59-01-购物车功能分析")]),t._v(" "),a("blockquote",[a("p",[t._v("目的：了解购物车两种状态下的操作逻辑，方便后续的开发理解。")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://zhoushugang.gitee.io/erabbit-client-pc-document/assets/img/1614324821761.861aa767.png",alt:"123"}})]),t._v(" "),a("p",[t._v("总结：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("购物车的各种操作都会有两种状态的区分，但是不会在组件中去区分。")])]),t._v(" "),a("li",[a("p",[t._v("而是在封装在vuex中的actions中去区分，在组件上只需调用actions即可。")])]),t._v(" "),a("li",[a("p",[t._v("在actions中通过user信息去区分登录状态")]),t._v(" "),a("ul",[a("li",[t._v("未登录，通过mutations修改vuex中的数据即可，vuex已经实现持久化，会同步保持在本地。")]),t._v(" "),a("li",[t._v("已登录，通过api接口去服务端操作，响应成功后通过mutations修改vuex中的数据即可，它也会同步在本地。")])])]),t._v(" "),a("li",[a("p",[t._v("不管何种操作何种状态返回一个promise，然后组件能够判断操作是否完毕是否成功，再而去做其他事情。")])]),t._v(" "),a("li",[a("p",[t._v("注意：")]),t._v(" "),a("ul",[a("li",[t._v("登录后，需要合并本地购物车到服务端。")]),t._v(" "),a("li",[t._v("退出后，清空vuex数据也会同步清空本地数据。")])])])]),t._v(" "),a("h1",{attrs:{id:""}},[a("a",{staticClass:"header-anchor",attrs:{href:"#"}},[t._v("#")])])])}),[],!1,null,null,null);s.default=i.exports}}]);