(window.webpackJsonp=window.webpackJsonp||[]).push([[100],{565:function(s,t,n){"use strict";n.r(t);var a=n(35),e=Object(a.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"chap43-事件循环模型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#chap43-事件循环模型"}},[s._v("#")]),s._v(" chap43_事件循环模型")]),s._v(" "),n("h2",{attrs:{id:"_01-所有代码分类"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_01-所有代码分类"}},[s._v("#")]),s._v(" 01_所有代码分类")]),s._v(" "),n("ul",[n("li",[s._v("初始化执行代码(同步代码): 包含绑定dom事件监听, 设置定时器, 发送ajax请求的代码")]),s._v(" "),n("li",[s._v("回调执行代码(异步代码): 处理回调逻辑")])]),s._v(" "),n("h2",{attrs:{id:"_02-js引擎执行代码的基本流程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_02-js引擎执行代码的基本流程"}},[s._v("#")]),s._v(" 02_js引擎执行代码的基本流程:")]),s._v(" "),n("ul",[n("li",[s._v("初始化代码===>回调代码")])]),s._v(" "),n("h2",{attrs:{id:"_03-模型的2个重要组成部分"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_03-模型的2个重要组成部分"}},[s._v("#")]),s._v(" 03_模型的2个重要组成部分:")]),s._v(" "),n("ul",[n("li",[s._v("事件管理模块")]),s._v(" "),n("li",[s._v("回调队列")])]),s._v(" "),n("h2",{attrs:{id:"_04-模型的运转流程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_04-模型的运转流程"}},[s._v("#")]),s._v(" 04_模型的运转流程")]),s._v(" "),n("ul",[n("li",[s._v("执行初始化代码, 将事件回调函数交给对应模块管理")]),s._v(" "),n("li",[s._v("当事件发生时, 管理模块会将回调函数及其数据添加到回调列队中")]),s._v(" "),n("li",[s._v("只有当初始化代码执行完后(可能要一定时间), 才会遍历读取回调队列中的回调函数执行")])]),s._v(" "),n("h2",{attrs:{id:"_05-代码"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_05-代码"}},[s._v("#")]),s._v(" 05_代码")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* \n就一个原理：所有的初始化代码 fn1, fn2就压栈先执行，所有的回调代码块压入回调队列，等初始化代码执行完毕，然后再执行回调队列中的代码（回调函数，定时器）\n*/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("fn1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'fn1()'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("fn1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ndocument"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("querySelector")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"#btn"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("addEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'click'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'点击了btn'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("setTimeout")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'定时器执行了'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("fn2")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'fn2()'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("fn2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* \nfn1()\nfn2()\n点击了btn\n定时器执行了\n*/")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br")])]),n("h2",{attrs:{id:"_06-事件循环相关概念"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_06-事件循环相关概念"}},[s._v("#")]),s._v(" 06_事件循环相关概念")]),s._v(" "),n("ul",[n("li",[s._v("执行栈\n"),n("ul",[n("li",[s._v("Execution stack")]),s._v(" "),n("li",[s._v("所有的js代码都在此空间中执行")])])]),s._v(" "),n("li",[s._v("浏览器内核\n"),n("ul",[n("li",[s._v("Browser kernel")]),s._v(" "),n("li",[s._v("jsEngine模块（在主线程处理）")]),s._v(" "),n("li",[s._v("其他模块（在主/分线程处理)")])])]),s._v(" "),n("li",[s._v("任务队列\n"),n("ul",[n("li",[s._v("task queue")])])]),s._v(" "),n("li",[s._v("消息队列\n"),n("ul",[n("li",[s._v("Message queue")])])]),s._v(" "),n("li",[s._v("事件队列\n"),n("ul",[n("li",[s._v("Events queue")])])]),s._v(" "),n("li",[s._v("事件轮询\n"),n("ul",[n("li",[s._v("Event loop(初始化代码执行完后，遍历回调队列中所有函数挨个执行)")])])]),s._v(" "),n("li",[s._v("事件驱动模型\n"),n("ul",[n("li",[s._v("Event-driven interaction model")]),s._v(" "),n("li",[s._v("Request-response model")])])])])])}),[],!1,null,null,null);t.default=e.exports}}]);