(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{499:function(s,a,t){"use strict";t.r(a);var n=t(35),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"_12-h5离线存储manifest"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_12-h5离线存储manifest"}},[s._v("#")]),s._v(" 12:h5离线存储manifest")]),s._v(" "),t("h2",{attrs:{id:"_12-1-问题分析"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_12-1-问题分析"}},[s._v("#")]),s._v(" 12.1 问题分析")]),s._v(" "),t("ul",[t("li",[s._v("HTML5提出的一个新的特性:离线存储。通过离线存储,我们可以通过把需要离线存储在本地的文件列表. manifest配置文件中,这样即使在离线的情况下,用户也可以正常看见网页。")])]),s._v(" "),t("h2",{attrs:{id:"_12-2-核心问题讲解"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_12-2-核心问题讲解"}},[s._v("#")]),s._v(" 12.2 核心问题讲解")]),s._v(" "),t("ul",[t("li",[s._v("查看 在application ---- application cache里面可以看见")]),s._v(" "),t("li",[s._v("使用")])]),s._v(" "),t("ol",[t("li",[s._v('在需要离线缓存存储的页面加上 manifest= "cache.manifest"')])]),s._v(" "),t("div",{staticClass:"language-html line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-html"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("!DOCTYOPE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("HTML")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("html")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("manifest")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("cache.manifest"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n  ...\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("html")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("ol",{attrs:{start:"2"}},[t("li",[s._v("在根目录新建文件cache.manifest并写上对应代码")])]),s._v(" "),t("div",{staticClass:"language-html line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-html"}},[t("code",[s._v("CACHE MANIFEST\n#v0.11\n\n# CACHE:你要把哪些存到浏览器\nCACHE:\n\nljc.css\n\n../images/banner-02.png\n\njs/app.js\n\ncss/style.css\n\n# NETWORK:不存哪些\nNETWORK:\nresources/logo.png\n\n# FALLBACK:你找a.html找不到就访问offline.html\nFALLBACK:\n./a.html ./offline.html\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br")])]),t("p",[s._v("离线存储manifest由3部分组成：")]),s._v(" "),t("ol",[t("li",[s._v("CACHE:表示需要离线存储的资源列表,由于包含manifest文件的页面将被自动离线存储,所以不需要把页面自身也列出来。 **会在当前浏览器存上\n**")]),s._v(" "),t("li",[s._v("NETWORK:表示在它下面列出来的资源只有在在线的情况下才能访问,他们不会被离线存储,所以在离线情况下无法使用这些资源。不过,如果在CACHE和NETWORK中有一个相同的资源,那么这个资源还是会被离线存储,也就是说CACHE的优先级更高。 不存")]),s._v(" "),t("li",[s._v("FALLBACK:表示如果访问第一个资源失败,那么就使用第二个资源来替换他,比如上面这个文件表示的就是如果访问根目录下任何一个资源失败了,那么就去访问offline.html。 容错方案")])]),s._v(" "),t("ul",[t("li",[s._v("浏览器有缓存，现在h5的manifest也能缓存")])])])}),[],!1,null,null,null);a.default=e.exports}}]);